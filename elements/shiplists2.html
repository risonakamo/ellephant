<link rel="import" href="../polymer/polymer/polymer-element.html">
<link rel="import" href="../elements/repairlist.html">

<dom-module id="ship-lists">
  <template>
    <style>
      :host
      {
        display: inline-block;
        font-size: 0;
      }

      .menu
      {
        padding-left: 10px;
      }

      .menu-entry
      {
        display: inline-block;
        height: 50px;
        line-height: 50px;
        font-size: 30px;
        padding: 0 15px 0 15px;
        cursor: pointer;
      }

      .menu-entry:hover span,.menu-entry.selected span
      {
        border-bottom: 3px solid white;
      }

      .list-page
      {
        height: 450px;
        overflow: auto;
      }

      #repairlists
      {
        text-align: center;
      }
    </style>

    <div class="menu">
      <div class="menu-entry" on-click="loadRepairLists"><span>REPAIR<span></div>
      <div class="menu-entry"><span>SOMETHING ELSE</span></div>
    </div>

    <div class="list-contain">
      <div class="list-page" id="repairlists">

      </div>
    </div>

  </template>

  <script>
    class shipLists extends Polymer.Element
    {
      static get is()
      {
        return "ship-lists";
      }

      /*
        --- variables ---
        element-array repairlists
      */
      static get properties()
      {
        return {

        };
      }

      loadRepairLists()
      {
        var repairable=[];
        for (var x in _apiShip)
        {
          if (_apiShip[x].api_ndock_time)
          {
            repairable.push(_apiShip[x]);
          }
        }

        repairable.sort((a,b)=>{
          if (a.api_ndock_time>b.api_ndock_time)
          {
            return -1;
          }

          if (a.api_ndock_time<b.api_ndock_time)
          {
            return 1;
          }

          return 0;
        });

        var newsl;
        for (var x=0,l=repairable.length;x<l;x++)
        {
          newsl=new repairList(repairable[x]);

          this.$["repairlists"].appendChild(newsl);
        }
      }
    }

    customElements.define(shipLists.is,shipLists);
  </script>
</dom-module>