<link rel="import" href="polymer/polymer/polymer-element.html">

<dom-module id="fleet-ship">
  <template>
    <style>
      :host
      {
        display: inline-block;
        width: 240px;
        height: 110px;
        margin: 0 5px 5px 0;
        /*background-color: #e5e5e7;*/
        /*background-color: rgba(255,255,255,.02);*/
        user-select: none;
        cursor: default;
      }

      div
      {
        display: inline-block;
      }

      #face
      {
        width: 100px;
        height: 90px;
        /*background-color: #e5e5e7;*/
        overflow: hidden;
        text-align: center;
      }

      #face img
      {
        height: 100%;
      }

      .detail
      {
        width: 100px;
        height: 20px;        
        line-height: 20px;
        font-size: 19px;
        color: #020200;
        /*color: #d2d4d1;*/
        background-color: #d2d4d1;
        text-align: center;
      }

      .left
      {
        /*background-color: #d2d4d1;*/
      }

      .side
      {
        display: inline-block;
        vertical-align: top;
        width: 100px;
        height: 110px;
      }

      .right
      {
        /*padding: 3px 0 0 5px;*/
        box-sizing: border-box;
        width: 140px;
      }

      .health
      {            
        width: 50px;
        height: 60px;
        color: #c5c5c5;
        font-size: 0;
        text-align: center;
        margin: 3px 0 0 5px;
      }

      .health div
      {
        display: inline-block;
        vertical-align: top;
      }

      #health-top
      {
        height: 29px;
      }

      .health-slot
      {
        width: 50px;
        height: 35px;
        font-size: 23px;
        text-align: center;
      }

      .border
      {
        width: 70%;
        height: 0;
        border-bottom: 1px solid #c5c5c5;
      }

      .stat-icons
      {
        width: 85px;
        height: 60px;
        vertical-align: top;
      }

      .morale
      {
        width: 100%;
        height: 30px;
        line-height: 30px;
        font-size: 25px;
        color: #f4e1a5;
        text-align: center;
      }

      .morale.low
      {
        color: #ec8a34;
        background-color: rgba(49,8,8,.5);
      }

      .morale.high
      {
        background-color: rgba(242,244,188,.1);
      }

      .resource
      {
        width: 100%;
        height: 30px;
        text-align: center;
      }

      .res-bar
      {
        width: 65%;
        height: 13px;
        text-align: left;
        border-bottom: 1px solid #83b254;
        box-sizing: border-box;
      }

      .res-bar.top
      {
        height: 8px;
        border-bottom-color: #967844;
      }

      .res-bar-fill
      {
        border-bottom-color: #83b254;
        border-bottom-width: 3px;        
      }

      .hp-bar
      {
        width: 110px;
        height: 0;
        border-bottom: 8px solid #192325;
      }

      .hp-bar-fill
      {
        border-bottom-color: #5b757e;
      }

      .hp-bar.red
      {
        border-color: #450000;
      }

      .hp-bar.red .hp-bar-fill
      {
        border-color: #e50014;
      }

      .hp-bar.yellow
      {
        border-color: #564f19;
      }

      .hp-bar.yellow .hp-bar-fill
      {
        border-color: #ffd73f;
      }

      .hp-bar.orange
      {
        border-color: #461101;
      }

      .hp-bar.orange .hp-bar-fill
      {
        border-color: #f16c2b;
      }

      .hp-bar-back
      {
        margin-left: 15px;
        margin-top: 4px;
      }

      .equipment
      {
        width: 140px;
        height: 35px;
        /*background-color: #e5e5e7;*/
      }

      .equipment-slot
      {
        width: 35px;
        height: 35px;
      }

      .equipment-slot img
      {
        
      }

    </style>

    <div class="side left">
      <div id="face">
        <img src="[[face]]">
      </div>

      <div class="detail">
        [[shipClass]] Lv[[level]]
      </div>
    </div>

    <div class="side right">
      <div class="health">
        <div id="health-top" class="health-slot">[[curHp]]</div>
        <div class="border"></div>
        <div id="health-bot" class="health-slot">[[maxHp]]</div>
      </div>

      <div class="stat-icons">
        <div class="morale">[[morale]]</div>
        <div class="resource">
          <div class="res-bar top">
            <div class="res-bar res-bar-fill top" style="width:[[ammoPercent]]%"></div>
          </div>
          <div class="res-bar">
            <div class="res-bar res-bar-fill" style="width:[[gasPercent]]%"></div>
          </div>
        </div>
      </div>

      <div class="hp-bar hp-bar-back">
        <div class="hp-bar hp-bar-fill" style="width:[[hpPercent]]%"></div>
      </div>

      <div class="equipment">
        <div class="equipment-slot"><img src=""></div>
        <div class="equipment-slot"><img src=""></div>
        <div class="equipment-slot"><img src=""></div>
        <div class="equipment-slot"><img src=""></div>
      </div>
      
    </div>

  </template>

  <script>
    class fleetShip extends Polymer.Element
    {
      static get is()
      {
        return "fleet-ship";
      }

      static get properties()
      {
        return {

        };
      }

      ready()
      {
        super.ready();
      }

      loadShip(data)
      {
        this.maxHp=data.maxHp
        this.curHp=data.curHp      
        this.hpPercent=(this.curHp/this.maxHp)*100;

        this.level=data.level;
        this.shipClass=data.shipClass;
        this.face=data.face;

        this.morale=data.morale;
      }      

      applyColour()
      {
        
      }
    }

    customElements.define(fleetShip.is,fleetShip);
  </script>
</dom-module>